<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body>

<style>

    .first{
        color: aqua;
        position: absolute;
        left: 10px;
     }

    .second{
        color: blue;
        position: relative;
        left: 30px;
    }

    .third{
        color: brown;
        position: relative;
        left: 50px;

    }
    .forth
    {
        color: chartreuse;
        position: relative;
        left: 80px;
    }

    a {
        display: block;
    }

</style>


<script>

    var div = document.createElement('div');
    div.setAttribute('id','tree');
  //  document.body.appendChild(div);

    function addLeaf(item,level)
    {
        var leaf = document.createElement('a'); //target="_blank"
        leaf.setAttribute('href','#');
        leaf.innerText  = item;
        if(level==0)
            leaf.setAttribute('class','first');
        else if(level==1)
            leaf.setAttribute('class','second');
        else if(level==2)
            leaf.setAttribute('class','third');
        else if(level==3)
            leaf.setAttribute('class','forth');

        document.getElementById('tree').appendChild(leaf)
    }

    document.body.appendChild(div);



    function Tree(value)
    {
        this.data = value;
        this.children = [];
        this.parent = null;

        this.getParent = function(){

            return this.parent;
        };

        this.setParent = function(node){

            this.parent = node;
        };

        this.getChildren = function(){

            return this.children;
        };

        this.removeChildren = function(){

           this.children = [];
        };

        this.addChild  = function(node)
        {
            this.setParent(this);
            this.children[this.children.length] = node;
        };
    }

    var tree = new Tree("CEO");

    tree.addChild( new Tree('Child 1'));

    tree.addChild( new Tree('Child 2'));

    tree.addChild( new Tree('Child 3'));

     var children = tree.getChildren();

    children[0].addChild(new Tree('level 2 0'));
    children[0].children[0].addChild(new Tree('level 3 0'));

    children[1].addChild(new Tree('level 2 0'));

    children[1].children[0].addChild(new Tree('level 3 0'));

    children[2].addChild(new Tree('level 2 0'));

    children[2].children[0].addChild(new Tree('level 3 0'));

    for (var i = 0; i < children.length ;i++)
    {
        for (var j = 0; j <   5; j++) {

            children[i].addChild(new Tree('level 2 ' + (j+1)))
        }
    }
    console.log(tree);

//    for (var i = 0; i < children.length ;i++)
//    {
//        console.log(children[i].data);
//        for (var j = 0; j <   children[i].children.length ; j++) {
//
//              console.log(children[i].children[j].data);
//        }
//    }


     Tree.prototype.traverse = function(callback){

         (function recurse(currentNode) {

             if (typeof recurse.level == 'undefined')
                 recurse.level = 0;
             else
                 recurse.level++;

            for(var i = 0, length = currentNode.children.length ; i<length ; i++ )
            {
                recurse(currentNode.children[i] )
            };

             callback(currentNode, recurse.level);

             recurse.level -- ;

        })(tree);
     };

    var comparer = function (a, b) {
            if (a.level > b.level)
                return 1;
            else if (a.level < b.level)
                return -1;
            else
                return 0;
    }

    var queue = [];
    tree.traverse(function(node, level){
       if(level !=1)
        queue.push({data:node.data,level:level});
       else if(level==0)
       {
          addLeaf(node.data,level);
       }
        else {
           queue.push({data:node.data,level:level});
           queue.sort(comparer);
           queue.map(function(el){

               return  addLeaf(el.data,el.level);
           });
           queue = [];
       }
        console.log(node.data+'   ' + level);
    })


</script>

</body>
</html>